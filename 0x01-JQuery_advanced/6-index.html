<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 5</title>
        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    </head>

    <body>
        <script type="application/javascript">
            function createFamilyTree() {
                $('body').append("<table><thead><th>Firstname</th><th>Lastname</th></thead></table>");
                $('table').append("<tbody></tbody>");

            }
            function addNewMember(firstName, lastName, position) {
                if (position == "before" || position == "Before") {
                    $('tbody').prepend(`<tr><td>${firstName}</td><td>${lastName}</td><td>(x)</td></tr>`);
                    $('table tbody tr:first-child td:last-child').css("background-color", "orange");
                    $('table tbody tr:first-child td:last-child').click(function() {
                    $(this).closest('tr').remove();
                });
                } else {
                    $('tbody').append(`<tr><td>${firstName}</td><td>${lastName}</td><td>(x)</td></tr>`);
                    $('table tbody tr:last-child td:last-child').css("background-color", "orange");
                    $('table tbody tr:last-child td:last-child').click(function() {
                    $(this).closest('tr').remove();
                });}
            }
            function createForm() {
                $('<input type="text"></input><input type="text"></input>').insertBefore('table');
                $(`
                    <select>
                        <option>Before</option>
                        <option>After</option>
                    </select>
                `).insertBefore('table');
                $('<input type="submit"></input>').insertBefore('table');
                $('input:nth-of-type(3)').click(function() {
                    addNewMember($("input:nth-of-type(1)").val(), $("input:nth-of-type(2)").val(), $("select option:selected").val())
                });
            }
            createFamilyTree();
            createForm();
        </script>
    </body>
</html>
